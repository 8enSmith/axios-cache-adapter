!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("superapi-cache",[],t):"object"==typeof exports?exports["superapi-cache"]=t():e["superapi-cache"]=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(!e.store)throw new Error("Cache middleware need to be provided a store.");var t=e.store,r=e.key||o.key;return e.readCache=e.readCache||s["default"],e.serialize=e.serialize||i["default"],e.log!==!1&&(e.log="function"==typeof e.log?e.log:console.log.bind(console)),function(n,o,u){if(u){var s=!u.use||u.use&&u.use.cache!==!1;if(!s)return null}var a=function(){return o().then(function(o){return t.setItem(r(n),e.serialize(n,o))})};return t.getItem(r(n)).then(function(t){return e.readCache(n,e.log)(t)["catch"](function(e){a()})})}}Object.defineProperty(t,"__esModule",{value:!0});var u=r(1),s=n(u),a=r(3),i=n(a);o.readCache=s["default"],o.serialize=i["default"],o.key=function(e){return e.url},t["default"]=o,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=function(e,t){return function(r){return new Promise(function(n,o){if(!r){t("cache-miss",e.url);var s=new Error;return s.reason="cache-miss",s.message="Value not found from cache",o(s)}e.callback=function(r,u){return t("cache-hit",e.url),r?o(r,u):void n(u)},e.xhr=(0,u["default"])(r),e.emit("end")})}};var o=r(2),u=n(o);e.exports=t["default"]},function(e,t){"use strict";function r(e){return"".trim?e.trim(e):e.replace(/(^\s*|\s*$)/g,"")}function n(e){var t,n,o,u,s=e.split(/\r?\n/),a={};s.pop();for(var i=0,c=s.length;c>i;i+=1)n=s[i],t=n.indexOf(":"),o=n.slice(0,t).toLowerCase(),u=r(n.slice(t+1)),a[o]=u;return a}function o(e){var t=e.body||{},r=n(e.headers||{});return t.getAllResponseHeaders=function(){return e.headers},t.getResponseHeader=function(e){return r[e]},t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){return{headers:t.xhr.getAllResponseHeaders(),body:{responseType:t.xhr.responseType,responseText:t.xhr.responseText,status:t.status,statusText:t.statusText}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]}])});
//# sourceMappingURL=superapi-cache.min.js.map