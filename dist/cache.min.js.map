{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cache.min.js","webpack:///webpack/bootstrap 3e51ea92f5bc3c45699d","webpack:///external {\"umd\":\"lodash-es/omit\",\"amd\":\"lodash-es/omit\",\"commonjs\":\"lodash-es/omit\",\"commonjs2\":\"lodash-es/omit\"}","webpack:///./src/index.js","webpack:///external {\"umd\":\"axios\",\"amd\":\"axios\",\"commonjs\":\"axios\",\"commonjs2\":\"axios\"}","webpack:///external {\"umd\":\"lodash-es/partial\",\"amd\":\"lodash-es/partial\",\"commonjs\":\"lodash-es/partial\",\"commonjs2\":\"lodash-es/partial\"}","webpack:///external {\"umd\":\"lodash-es/extend\",\"amd\":\"lodash-es/extend\",\"commonjs\":\"lodash-es/extend\",\"commonjs2\":\"lodash-es/extend\"}","webpack:///./src/read-cache.js","webpack:///./src/serialize.js","webpack:///./src/memory.js","webpack:///./src/exclude.js"],"names":["root","factory","exports","module","require","define","amd","undefined","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","setupCache","response","req","uuid","res","status","indexOf","responseType","expires","config","maxAge","Date","now","store","setItem","data","serialize","then","request","key","next","_partial2","_exclude2","exclude","Promise","reject","method","toLowerCase","removeItem","getItem","value","readCache","debug","fromCache","catch","err","clearOnStale","reason","adapter","resolve","_axios2","defaults","arguments","length","_memory2","url","_readCache2","_serialize2","query","paths","filter","console","log","bind","setup","options","_extend2","defaultOptions","cache","axiosOptions","_omit2","create","_axios","_partial","_extend","_omit","_readCache","_serialize","_memory","_exclude","lib","error","Error","message","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","writable","protoProps","staticProps","MemoryStore","_store","exclusions","match","found","forEach","regexp"],"mappings":"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","file":"cache.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash-es/omit\"), require(\"axios\"), require(\"lodash-es/partial\"), require(\"lodash-es/extend\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash-es/omit\", \"axios\", \"lodash-es/partial\", \"lodash-es/extend\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axiosCacheAdapter\"] = factory(require(\"lodash-es/omit\"), require(\"axios\"), require(\"lodash-es/partial\"), require(\"lodash-es/extend\"));\n\telse\n\t\troot[\"axiosCacheAdapter\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash-es/omit\"), require(\"axios\"), require(\"lodash-es/partial\"), require(\"lodash-es/extend\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash-es/omit\", \"axios\", \"lodash-es/partial\", \"lodash-es/extend\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axiosCacheAdapter\"] = factory(require(\"lodash-es/omit\"), require(\"axios\"), require(\"lodash-es/partial\"), require(\"lodash-es/extend\"));\n\telse\n\t\troot[\"axiosCacheAdapter\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _axios = __webpack_require__(2);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _partial = __webpack_require__(3);\n\nvar _partial2 = _interopRequireDefault(_partial);\n\nvar _extend = __webpack_require__(4);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _omit = __webpack_require__(0);\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _readCache = __webpack_require__(5);\n\nvar _readCache2 = _interopRequireDefault(_readCache);\n\nvar _serialize = __webpack_require__(6);\n\nvar _serialize2 = _interopRequireDefault(_serialize);\n\nvar _memory = __webpack_require__(7);\n\nvar _memory2 = _interopRequireDefault(_memory);\n\nvar _exclude = __webpack_require__(8);\n\nvar _exclude2 = _interopRequireDefault(_exclude);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction setupCache() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  config.store = config.store || new _memory2.default();\n  var key = config.key || function (req) {\n    return req.url;\n  };\n\n  config.maxAge = config.maxAge || 0;\n  config.readCache = config.readCache || _readCache2.default;\n  config.serialize = config.serialize || _serialize2.default;\n  config.clearOnStale = config.clearOnStale !== undefined ? config.clearOnStale : true;\n  config.debug = config.debug || false;\n\n  config.exclude = config.exclude || {};\n  config.exclude.query = config.exclude.query || true;\n  config.exclude.paths = config.exclude.paths || [];\n  config.exclude.filter = config.exclude.filter || null;\n\n  if (config.debug !== false) {\n    config.debug = typeof config.debug === 'function' ? config.debug : console.log.bind(console);\n  }\n\n  function response(req, uuid, res) {\n    var type = res.status / 100 | 0;\n\n    // only cache 2xx response\n    if (type !== 2) {\n      return res;\n    }\n\n    // exclude binary response from cache\n    if (['arraybuffer', 'blob'].indexOf(res.responseType) > -1) {\n      return res;\n    }\n\n    var expires = config.maxAge === 0 ? 0 : Date.now() + config.maxAge;\n\n    return config.store.setItem(uuid, { expires: expires, data: config.serialize(req, res) }).then(function () {\n      return res;\n    });\n  }\n\n  function request(req) {\n    var uuid = key(req);\n    var next = (0, _partial2.default)(response, req, uuid);\n\n    if ((0, _exclude2.default)(req, config.exclude)) {\n      return Promise.reject(next);\n    }\n\n    // clear cache if method different from GET.\n    // We should exclude HEAD\n    var method = req.method.toLowerCase();\n\n    if (method === 'head') {\n      return Promise.reject(next);\n    }\n\n    if (method !== 'get') {\n      config.store.removeItem(uuid);\n      return Promise.reject(next);\n    }\n\n    return config.store.getItem(uuid).then(function (value) {\n      return config.readCache(req, config.debug)(value).then(function (data) {\n        data.config = req;\n        data.request = { fromCache: true };\n\n        return data;\n      }).catch(function (err) {\n        // clean up cache if stale\n        if (config.clearOnStale && err.reason === 'cache-stale') {\n          return config.store.removeItem(uuid).then(function () {\n            return Promise.reject(next);\n          });\n        }\n\n        return Promise.reject(next);\n      });\n    });\n  }\n\n  function adapter(config) {\n    return new Promise(function (resolve, reject) {\n      return request(config).then(function (response) {\n        return resolve(response);\n      }).catch(function (response) {\n        return _axios2.default.defaults.adapter(config).then(response).then(function (res) {\n          return resolve(res);\n        }).catch(function (err) {\n          return reject(err);\n        });\n      });\n    });\n  }\n\n  return {\n    adapter: adapter,\n    store: config.store\n  };\n}\n\nvar defaultOptions = {\n  cache: {\n    maxAge: 15 * 60 * 1000\n  }\n};\n\nfunction setup(options) {\n  options = (0, _extend2.default)({}, defaultOptions, options);\n\n  var cache = setupCache(options.cache);\n  var axiosOptions = (0, _omit2.default)(options, ['cache']);\n\n  var request = _axios2.default.create((0, _extend2.default)({}, axiosOptions, { adapter: cache.adapter }));\n\n  request.cache = cache;\n\n  return request;\n}\n\nvar lib = {\n  setupCache: setupCache,\n  setup: setup\n};\n\nexports.default = lib;\n\nmodule.exports = lib;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (req, log) {\n  return function (value) {\n    return new Promise(function (resolve, reject) {\n      if (!value || !value.data) {\n        log('cache-miss', req.url);\n        var error = new Error();\n\n        error.reason = 'cache-miss';\n        error.message = 'Value not found from cache';\n        return reject(error);\n      }\n\n      var expires = value.expires,\n          data = value.data;\n\n\n      if (expires !== 0 && expires < Date.now()) {\n        log('cache-stale', req.url);\n        var _error = new Error();\n\n        _error.reason = 'cache-stale';\n        _error.message = 'Value is stale';\n        return reject(_error);\n      }\n\n      // // hydrate pseudo xhr from cached value\n      // req.xhr = hydrate(data)\n      //\n      // // override request end callback\n      // req.callback = (err, res) => {\n      //   log('cache-hit', req.url)\n      //\n      //   if (err) {\n      //     return reject(err, res)\n      //   }\n      //\n      //   resolve(res)\n      // }\n\n      log('cache-hit', req.url);\n\n      return resolve(data);\n    });\n  };\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = serialize;\n\nvar _omit = __webpack_require__(0);\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction serialize(req, res) {\n  return (0, _omit2.default)(res, ['request', 'config']);\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MemoryStore = function () {\n  function MemoryStore() {\n    _classCallCheck(this, MemoryStore);\n\n    this._store = {};\n  }\n\n  _createClass(MemoryStore, [{\n    key: \"getItem\",\n    value: function getItem(key) {\n      return Promise.resolve(this._store[key] || null);\n    }\n  }, {\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      this._store[key] = value;\n      return Promise.resolve(value);\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this._store = {};\n      return Promise.resolve();\n    }\n  }]);\n\n  return MemoryStore;\n}();\n\nexports.default = MemoryStore;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exclude;\nfunction exclude(req) {\n  var exclusions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof exclusions.filter === 'function' && !exclusions.filter(req)) {\n    return true;\n  }\n\n  // do not cache request with query\n  if (exclusions.query && req.url.match(/\\?.*$/)) {\n    return true;\n  }\n\n  var found = false;\n  var paths = exclusions.paths || [];\n\n  paths.forEach(function (regexp) {\n    if (req.url.match(regexp)) {\n      found = true;\n      return found;\n    }\n  });\n\n  if (found) {\n    return true;\n  }\n\n  // All rules explained. fo not rewrite regexp.\n  return false;\n}\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cache.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 3e51ea92f5bc3c45699d","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash-es/omit\",\"amd\":\"lodash-es/omit\",\"commonjs\":\"lodash-es/omit\",\"commonjs2\":\"lodash-es/omit\"}\n// module id = 0\n// module chunks = 0","import axios from 'axios'\n\nimport partial from 'lodash-es/partial'\nimport extend from 'lodash-es/extend'\nimport omit from 'lodash-es/omit'\n\nimport readCache from './read-cache'\nimport serialize from './serialize'\nimport MemoryStore from './memory'\nimport exclude from './exclude'\n\nfunction setupCache (config = {}) {\n  config.store = config.store || new MemoryStore()\n  const key = config.key || (req => req.url)\n\n  config.maxAge = config.maxAge || 0\n  config.readCache = config.readCache || readCache\n  config.serialize = config.serialize || serialize\n  config.clearOnStale = config.clearOnStale !== undefined ? config.clearOnStale : true\n  config.debug = config.debug || false\n\n  config.exclude = config.exclude || {}\n  config.exclude.query = config.exclude.query || true\n  config.exclude.paths = config.exclude.paths || []\n  config.exclude.filter = config.exclude.filter || null\n\n  if (config.debug !== false) {\n    config.debug = typeof config.debug === 'function' ? config.debug : console.log.bind(console)\n  }\n\n  function response (req, uuid, res) {\n    const type = res.status / 100 | 0\n\n    // only cache 2xx response\n    if (type !== 2) {\n      return res\n    }\n\n    // exclude binary response from cache\n    if (['arraybuffer', 'blob'].indexOf(res.responseType) > -1) {\n      return res\n    }\n\n    let expires = config.maxAge === 0 ? 0 : Date.now() + config.maxAge\n\n    return config.store.setItem(uuid, { expires, data: config.serialize(req, res) }).then(() => res)\n  }\n\n  function request (req) {\n    const uuid = key(req)\n    const next = partial(response, req, uuid)\n\n    if (exclude(req, config.exclude)) {\n      return Promise.reject(next)\n    }\n\n    // clear cache if method different from GET.\n    // We should exclude HEAD\n    const method = req.method.toLowerCase()\n\n    if (method === 'head') {\n      return Promise.reject(next)\n    }\n\n    if (method !== 'get') {\n      config.store.removeItem(uuid)\n      return Promise.reject(next)\n    }\n\n    return config.store.getItem(uuid).then(value => {\n      return config.readCache(req, config.debug)(value)\n        .then(data => {\n          data.config = req\n          data.request = { fromCache: true }\n\n          return data\n        })\n        .catch(err => {\n          // clean up cache if stale\n          if (config.clearOnStale && err.reason === 'cache-stale') {\n            return config.store.removeItem(uuid)\n              .then(() => Promise.reject(next))\n          }\n\n          return Promise.reject(next)\n        })\n    })\n  }\n\n  function adapter (config) {\n    return new Promise((resolve, reject) => {\n      return request(config)\n        .then(response => resolve(response))\n        .catch(response => {\n          return axios.defaults.adapter(config)\n            .then(response)\n            .then(res => resolve(res))\n            .catch(err => reject(err))\n        })\n    })\n  }\n\n  return {\n    adapter,\n    store: config.store\n  }\n}\n\nconst defaultOptions = {\n  cache: {\n    maxAge: 15 * 60 * 1000\n  }\n}\n\nfunction setup (options) {\n  options = extend({}, defaultOptions, options)\n\n  const cache = setupCache(options.cache)\n  const axiosOptions = omit(options, ['cache'])\n\n  const request = axios.create(extend({}, axiosOptions, { adapter: cache.adapter }))\n\n  request.cache = cache\n\n  return request\n}\n\nconst lib = {\n  setupCache,\n  setup\n}\n\nexport default lib\nmodule.exports = lib\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"axios\",\"amd\":\"axios\",\"commonjs\":\"axios\",\"commonjs2\":\"axios\"}\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash-es/partial\",\"amd\":\"lodash-es/partial\",\"commonjs\":\"lodash-es/partial\",\"commonjs2\":\"lodash-es/partial\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash-es/extend\",\"amd\":\"lodash-es/extend\",\"commonjs\":\"lodash-es/extend\",\"commonjs2\":\"lodash-es/extend\"}\n// module id = 4\n// module chunks = 0","// import hydrate from './hydrate'\n\nexport default function (req, log) {\n  return function (value) {\n    return new Promise((resolve, reject) => {\n      if (!value || !value.data) {\n        log('cache-miss', req.url)\n        const error = new Error()\n\n        error.reason = 'cache-miss'\n        error.message = 'Value not found from cache'\n        return reject(error)\n      }\n\n      const { expires, data } = value\n\n      if (expires !== 0 && (expires < Date.now())) {\n        log('cache-stale', req.url)\n        const error = new Error()\n\n        error.reason = 'cache-stale'\n        error.message = 'Value is stale'\n        return reject(error)\n      }\n\n      // // hydrate pseudo xhr from cached value\n      // req.xhr = hydrate(data)\n      //\n      // // override request end callback\n      // req.callback = (err, res) => {\n      //   log('cache-hit', req.url)\n      //\n      //   if (err) {\n      //     return reject(err, res)\n      //   }\n      //\n      //   resolve(res)\n      // }\n\n      log('cache-hit', req.url)\n\n      return resolve(data)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/read-cache.js","import omit from 'lodash-es/omit'\n\nexport default function serialize (req, res) {\n  return omit(res, ['request', 'config'])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/serialize.js","class MemoryStore {\n  constructor () {\n    this._store = {}\n  }\n\n  getItem (key) {\n    return Promise.resolve(this._store[key] || null)\n  }\n\n  setItem (key, value) {\n    this._store[key] = value\n    return Promise.resolve(value)\n  }\n\n  clear () {\n    this._store = {}\n    return Promise.resolve()\n  }\n}\n\nexport default MemoryStore\n\n\n\n// WEBPACK FOOTER //\n// ./src/memory.js","export default function exclude (req, exclusions = {}) {\n  if ((typeof exclusions.filter === 'function') && !exclusions.filter(req)) {\n    return true\n  }\n\n  // do not cache request with query\n  if (exclusions.query && req.url.match(/\\?.*$/)) {\n    return true\n  }\n\n  let found = false\n  const paths = exclusions.paths || []\n\n  paths.forEach(regexp => {\n    if (req.url.match(regexp)) {\n      found = true\n      return found\n    }\n  })\n\n  if (found) {\n    return true\n  }\n\n  // All rules explained. fo not rewrite regexp.\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/exclude.js"],"sourceRoot":""}