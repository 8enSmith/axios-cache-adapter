{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cache.min.js","webpack:///webpack/bootstrap 44d55c5d2510b830af7e","webpack:///external {\"umd\":\"lodash/isFunction\",\"amd\":\"lodash/isFunction\",\"commonjs\":\"lodash/isFunction\",\"commonjs2\":\"lodash/isFunction\"}","webpack:///external {\"umd\":\"lodash/omit\",\"amd\":\"lodash/omit\",\"commonjs\":\"lodash/omit\",\"commonjs2\":\"lodash/omit\"}","webpack:///./src/index.js","webpack:///external {\"umd\":\"axios\",\"amd\":\"axios\",\"commonjs\":\"axios\",\"commonjs2\":\"axios\"}","webpack:///external {\"umd\":\"lodash/extend\",\"amd\":\"lodash/extend\",\"commonjs\":\"lodash/extend\",\"commonjs2\":\"lodash/extend\"}","webpack:///./src/read-cache.js","webpack:///./src/serialize.js","webpack:///./src/memory.js","webpack:///external {\"umd\":\"lodash/size\",\"amd\":\"lodash/size\",\"commonjs\":\"lodash/size\",\"commonjs2\":\"lodash/size\"}","webpack:///external {\"umd\":\"lodash/map\",\"amd\":\"lodash/map\",\"commonjs\":\"lodash/map\",\"commonjs2\":\"lodash/map\"}","webpack:///./src/exclude.js","webpack:///./src/cache-key.js","webpack:///external {\"umd\":\"lodash/isString\",\"amd\":\"lodash/isString\",\"commonjs\":\"lodash/isString\",\"commonjs2\":\"lodash/isString\"}","webpack:///./src/limit.js"],"names":["root","factory","exports","module","require","define","amd","undefined","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_8__","__WEBPACK_EXTERNAL_MODULE_9__","__WEBPACK_EXTERNAL_MODULE_12__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","setupCache","response","exclude","req","uuid","res","status","indexOf","responseType","expires","config","maxAge","Date","now","limit","debug","_limit2","then","store","setItem","data","serialize","request","cacheKey","next","_len2","arguments","length","args","Array","_key2","concat","includedNext","_len3","_key3","excludedNext","_len4","_key4","_exclude2","Promise","resolve","method","toLowerCase","removeItem","getItem","value","readCache","fromCache","catch","err","clearOnStale","reason","adapter","_isFunction2","_axios2","defaults","_cacheKey2","_memory2","_readCache2","_serialize2","query","paths","filter","_console","_len","_key","console","log","apply","setup","options","_extend2","defaultOptions","cache","axiosOptions","_omit2","create","_axios","_isFunction","_extend","_omit","_readCache","_serialize","_memory","_exclude","_cacheKey","_limit","lib","reject","url","error","Error","message","JSON","parse","e","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","_size","_size2","_map","_map2","MemoryStore","fn","all","exclusions","match","found","forEach","regexp","createKey","_isString2","_isString","applyLimit","firstItem","iterate"],"mappings":"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","file":"cache.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash/isFunction\"), require(\"lodash/omit\"), require(\"axios\"), require(\"lodash/extend\"), require(\"lodash/size\"), require(\"lodash/map\"), require(\"lodash/isString\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash/isFunction\", \"lodash/omit\", \"axios\", \"lodash/extend\", \"lodash/size\", \"lodash/map\", \"lodash/isString\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axiosCacheAdapter\"] = factory(require(\"lodash/isFunction\"), require(\"lodash/omit\"), require(\"axios\"), require(\"lodash/extend\"), require(\"lodash/size\"), require(\"lodash/map\"), require(\"lodash/isString\"));\n\telse\n\t\troot[\"axiosCacheAdapter\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_12__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash/isFunction\"), require(\"lodash/omit\"), require(\"axios\"), require(\"lodash/extend\"), require(\"lodash/size\"), require(\"lodash/map\"), require(\"lodash/isString\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash/isFunction\", \"lodash/omit\", \"axios\", \"lodash/extend\", \"lodash/size\", \"lodash/map\", \"lodash/isString\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axiosCacheAdapter\"] = factory(require(\"lodash/isFunction\"), require(\"lodash/omit\"), require(\"axios\"), require(\"lodash/extend\"), require(\"lodash/size\"), require(\"lodash/map\"), require(\"lodash/isString\"));\n\telse\n\t\troot[\"axiosCacheAdapter\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_12__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _axios = __webpack_require__(3);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _isFunction = __webpack_require__(0);\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nvar _extend = __webpack_require__(4);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _omit = __webpack_require__(1);\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nvar _readCache = __webpack_require__(5);\n\nvar _readCache2 = _interopRequireDefault(_readCache);\n\nvar _serialize = __webpack_require__(6);\n\nvar _serialize2 = _interopRequireDefault(_serialize);\n\nvar _memory = __webpack_require__(7);\n\nvar _memory2 = _interopRequireDefault(_memory);\n\nvar _exclude = __webpack_require__(10);\n\nvar _exclude2 = _interopRequireDefault(_exclude);\n\nvar _cacheKey = __webpack_require__(11);\n\nvar _cacheKey2 = _interopRequireDefault(_cacheKey);\n\nvar _limit = __webpack_require__(13);\n\nvar _limit2 = _interopRequireDefault(_limit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction setupCache() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  var cacheKey = (0, _cacheKey2.default)(config);\n\n  config.store = config.store || new _memory2.default();\n  config.maxAge = config.maxAge || 0;\n  config.limit = config.limit || false;\n  config.readCache = config.readCache || _readCache2.default;\n  config.serialize = config.serialize || _serialize2.default;\n  config.clearOnStale = config.clearOnStale !== undefined ? config.clearOnStale : true;\n  config.debug = config.debug || false;\n\n  config.exclude = config.exclude || {};\n  config.exclude.query = config.exclude.query !== undefined ? config.exclude.query : true;\n  config.exclude.paths = config.exclude.paths || [];\n  config.exclude.filter = config.exclude.filter || null;\n\n  if (config.debug !== false) {\n    config.debug = typeof config.debug === 'function' ? config.debug : function () {\n      var _console;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return (_console = console).log.apply(_console, ['[axios-cache-adapter]'].concat(args));\n    };\n  } else {\n    config.debug = function () {};\n  }\n\n  function response(exclude, req, uuid, res) {\n    var type = res.status / 100 | 0;\n\n    // only cache 2xx response\n    if (type !== 2) {\n      return res;\n    }\n\n    // exclude binary response from cache\n    if (['arraybuffer', 'blob'].indexOf(res.responseType) > -1) {\n      return res;\n    }\n\n    var expires = config.maxAge === 0 ? 0 : Date.now() + config.maxAge;\n\n    if (!exclude) {\n      if (config.limit) {\n        config.debug('Detected limit: ' + config.limit);\n\n        return (0, _limit2.default)(config).then(function () {\n          return store(uuid, expires, req, res);\n        });\n      }\n\n      return store(uuid, expires, req, res);\n    }\n\n    return res;\n  }\n\n  function store(uuid, expires, req, res) {\n    return config.store.setItem(uuid, { expires: expires, data: config.serialize(req, res, config.debug) }).then(function () {\n      return res;\n    });\n  }\n\n  function request(req) {\n    var uuid = cacheKey(req);\n    var next = function next(exclude) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      return response.apply(undefined, [exclude, req, uuid].concat(args));\n    };\n    var includedNext = function includedNext() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return next.apply(undefined, [false].concat(args));\n    };\n    var excludedNext = function excludedNext() {\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return next.apply(undefined, [true].concat(args));\n    };\n\n    if ((0, _exclude2.default)(req, config.exclude)) {\n      return Promise.resolve(excludedNext);\n    }\n\n    // clear cache if method different from GET.\n    // We should exclude HEAD\n    var method = req.method.toLowerCase();\n\n    if (method === 'head') {\n      return Promise.resolve(excludedNext);\n    }\n\n    if (method !== 'get') {\n      return config.store.removeItem(uuid).then(function () {\n        return excludedNext;\n      });\n    }\n\n    return config.store.getItem(uuid).then(function (value) {\n      return config.readCache(req, config.debug)(value).then(function (data) {\n        data.config = req;\n        data.request = { fromCache: true };\n\n        return data;\n      }).catch(function (err) {\n        // clean up cache if stale\n        if (config.clearOnStale && err.reason === 'cache-stale') {\n          return config.store.removeItem(uuid).then(function () {\n            return includedNext;\n          });\n        }\n\n        return includedNext;\n      });\n    });\n  }\n\n  function adapter(config) {\n    return request(config).then(function (response) {\n      if (!(0, _isFunction2.default)(response)) return response;\n\n      return _axios2.default.defaults.adapter(config).then(response);\n    });\n  }\n\n  return {\n    adapter: adapter,\n    store: config.store\n  };\n}\n\nvar defaultOptions = {\n  cache: {\n    maxAge: 15 * 60 * 1000\n  }\n};\n\nfunction setup(options) {\n  options = (0, _extend2.default)({}, defaultOptions, options);\n\n  var cache = setupCache(options.cache);\n  var axiosOptions = (0, _omit2.default)(options, ['cache']);\n\n  var request = _axios2.default.create((0, _extend2.default)({}, axiosOptions, { adapter: cache.adapter }));\n\n  request.cache = cache.store;\n\n  return request;\n}\n\nvar lib = {\n  setupCache: setupCache,\n  setup: setup\n};\n\nexports.default = lib;\n\nmodule.exports = lib;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = function (req, log) {\n  return function (value) {\n    return new Promise(function (resolve, reject) {\n      if (!value || !value.data) {\n        log('cache-miss', req.url);\n        var error = new Error();\n\n        error.reason = 'cache-miss';\n        error.message = 'Value not found from cache';\n        return reject(error);\n      }\n\n      var expires = value.expires,\n          data = value.data;\n\n\n      if (expires !== 0 && expires < Date.now()) {\n        log('cache-stale', req.url);\n        var _error = new Error();\n\n        _error.reason = 'cache-stale';\n        _error.message = 'Value is stale';\n        return reject(_error);\n      }\n\n      // // hydrate pseudo xhr from cached value\n      // req.xhr = hydrate(data)\n      //\n      // // override request end callback\n      // req.callback = (err, res) => {\n      //   log('cache-hit', req.url)\n      //\n      //   if (err) {\n      //     return reject(err, res)\n      //   }\n      //\n      //   resolve(res)\n      // }\n\n      log('cache-hit', req.url);\n\n      return resolve(data);\n    });\n  };\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = serialize;\n\nvar _omit = __webpack_require__(1);\n\nvar _omit2 = _interopRequireDefault(_omit);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction serialize(req, res, log) {\n  if (res.data) {\n    try {\n      res.data = JSON.parse(res.data);\n    } catch (e) {\n      log('Could not parse data as JSON');\n    }\n  }\n\n  return (0, _omit2.default)(res, ['request', 'config']);\n}\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _size = __webpack_require__(8);\n\nvar _size2 = _interopRequireDefault(_size);\n\nvar _map = __webpack_require__(9);\n\nvar _map2 = _interopRequireDefault(_map);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar MemoryStore = function () {\n  function MemoryStore() {\n    _classCallCheck(this, MemoryStore);\n\n    this.store = {};\n  }\n\n  _createClass(MemoryStore, [{\n    key: 'getItem',\n    value: function getItem(key) {\n      return Promise.resolve(this.store[key] || null);\n    }\n  }, {\n    key: 'setItem',\n    value: function setItem(key, value) {\n      this.store[key] = value;\n      return Promise.resolve(value);\n    }\n  }, {\n    key: 'removeItem',\n    value: function removeItem(key) {\n      delete this.store[key];\n      return Promise.resolve();\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.store = {};\n      return Promise.resolve();\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return Promise.resolve((0, _size2.default)(this.store));\n    }\n  }, {\n    key: 'iterate',\n    value: function iterate(fn) {\n      return Promise.all((0, _map2.default)(this.store, function (value, key) {\n        return fn(value, key);\n      }));\n    }\n  }]);\n\n  return MemoryStore;\n}();\n\nexports.default = MemoryStore;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exclude;\nfunction exclude(req) {\n  var exclusions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (typeof exclusions.filter === 'function' && !exclusions.filter(req)) {\n    return true;\n  }\n\n  // do not cache request with query\n  if (exclusions.query && req.url.match(/\\?.*$/)) {\n    return true;\n  }\n\n  var found = false;\n  var paths = exclusions.paths || [];\n\n  paths.forEach(function (regexp) {\n    if (req.url.match(regexp)) {\n      found = true;\n      return found;\n    }\n  });\n\n  if (found) {\n    return true;\n  }\n\n  // All rules explained. fo not rewrite regexp.\n  return false;\n}\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _isString = __webpack_require__(12);\n\nvar _isString2 = _interopRequireDefault(_isString);\n\nvar _isFunction = __webpack_require__(0);\n\nvar _isFunction2 = _interopRequireDefault(_isFunction);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createKey(config) {\n  if ((0, _isFunction2.default)(config.key)) return config.key;\n\n  var cacheKey = void 0;\n\n  if ((0, _isString2.default)(config.key)) cacheKey = function cacheKey(req) {\n    return config.key + '/' + req.url;\n  };else cacheKey = function cacheKey(req) {\n    return req.url;\n  };\n\n  return cacheKey;\n}\n\nexports.default = createKey;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nfunction applyLimit(config) {\n  return config.store.length().then(function (length) {\n    config.debug(\"Current store size: \" + length);\n\n    if (length >= config.limit) {\n      config.debug(\"Finding first cached item\");\n\n      var firstItem = void 0;\n\n      return config.store.iterate(function (value, key) {\n        if (!firstItem) firstItem = { value: value, key: key };\n        if (value.expires < firstItem.value.expires) firstItem = { value: value, key: key };\n      }).then(function () {\n        if (firstItem) {\n          config.debug(\"Found item: \" + firstItem.key);\n\n          return config.store.removeItem(firstItem.key);\n        }\n      });\n    }\n  });\n}\n\nexports.default = applyLimit;\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cache.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 44d55c5d2510b830af7e","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/isFunction\",\"amd\":\"lodash/isFunction\",\"commonjs\":\"lodash/isFunction\",\"commonjs2\":\"lodash/isFunction\"}\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/omit\",\"amd\":\"lodash/omit\",\"commonjs\":\"lodash/omit\",\"commonjs2\":\"lodash/omit\"}\n// module id = 1\n// module chunks = 0","import axios from 'axios'\n\nimport isFunction from 'lodash/isFunction'\nimport extend from 'lodash/extend'\nimport omit from 'lodash/omit'\n\nimport readCache from './read-cache'\nimport serialize from './serialize'\nimport MemoryStore from './memory'\nimport exclude from './exclude'\nimport createKey from './cache-key'\nimport applyLimit from './limit'\n\nfunction setupCache (config = {}) {\n  const cacheKey = createKey(config)\n\n  config.store = config.store || new MemoryStore()\n  config.maxAge = config.maxAge || 0\n  config.limit = config.limit || false\n  config.readCache = config.readCache || readCache\n  config.serialize = config.serialize || serialize\n  config.clearOnStale = config.clearOnStale !== undefined ? config.clearOnStale : true\n  config.debug = config.debug || false\n\n  config.exclude = config.exclude || {}\n  config.exclude.query = config.exclude.query !== undefined ? config.exclude.query : true\n  config.exclude.paths = config.exclude.paths || []\n  config.exclude.filter = config.exclude.filter || null\n\n  if (config.debug !== false) {\n    config.debug = (typeof config.debug === 'function')\n      ? config.debug\n      : (...args) => console.log('[axios-cache-adapter]', ...args)\n  } else {\n    config.debug = () => {}\n  }\n\n  function response (exclude, req, uuid, res) {\n    const type = res.status / 100 | 0\n\n    // only cache 2xx response\n    if (type !== 2) {\n      return res\n    }\n\n    // exclude binary response from cache\n    if (['arraybuffer', 'blob'].indexOf(res.responseType) > -1) {\n      return res\n    }\n\n    let expires = config.maxAge === 0 ? 0 : Date.now() + config.maxAge\n\n    if (!exclude) {\n      if (config.limit) {\n        config.debug(`Detected limit: ${config.limit}`)\n\n        return applyLimit(config).then(\n          () => store(uuid, expires, req, res)\n        )\n      }\n\n      return store(uuid, expires, req, res)\n    }\n\n    return res\n  }\n\n  function store (uuid, expires, req, res) {\n    return config.store\n      .setItem(uuid, { expires, data: config.serialize(req, res, config.debug) })\n      .then(() => res)\n  }\n\n  function request (req) {\n    const uuid = cacheKey(req)\n    const next = (exclude, ...args) => response(exclude, req, uuid, ...args)\n    const includedNext = (...args) => next(false, ...args)\n    const excludedNext = (...args) => next(true, ...args)\n\n    if (exclude(req, config.exclude)) {\n      return Promise.resolve(excludedNext)\n    }\n\n    // clear cache if method different from GET.\n    // We should exclude HEAD\n    const method = req.method.toLowerCase()\n\n    if (method === 'head') {\n      return Promise.resolve(excludedNext)\n    }\n\n    if (method !== 'get') {\n      return config.store.removeItem(uuid).then(() => excludedNext)\n    }\n\n    return config.store.getItem(uuid).then(value => {\n      return config.readCache(req, config.debug)(value)\n        .then(data => {\n          data.config = req\n          data.request = { fromCache: true }\n\n          return data\n        })\n        .catch(err => {\n          // clean up cache if stale\n          if (config.clearOnStale && err.reason === 'cache-stale') {\n            return config.store.removeItem(uuid).then(() => includedNext)\n          }\n\n          return includedNext\n        })\n    })\n  }\n\n  function adapter (config) {\n    return request(config)\n      .then(response => {\n        if (!isFunction(response)) return response\n\n        return axios.defaults.adapter(config).then(response)\n      })\n  }\n\n  return {\n    adapter,\n    store: config.store\n  }\n}\n\nconst defaultOptions = {\n  cache: {\n    maxAge: 15 * 60 * 1000\n  }\n}\n\nfunction setup (options) {\n  options = extend({}, defaultOptions, options)\n\n  const cache = setupCache(options.cache)\n  const axiosOptions = omit(options, ['cache'])\n\n  const request = axios.create(extend({}, axiosOptions, { adapter: cache.adapter }))\n\n  request.cache = cache.store\n\n  return request\n}\n\nconst lib = {\n  setupCache,\n  setup\n}\n\nexport default lib\nmodule.exports = lib\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"axios\",\"amd\":\"axios\",\"commonjs\":\"axios\",\"commonjs2\":\"axios\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/extend\",\"amd\":\"lodash/extend\",\"commonjs\":\"lodash/extend\",\"commonjs2\":\"lodash/extend\"}\n// module id = 4\n// module chunks = 0","// import hydrate from './hydrate'\n\nexport default function (req, log) {\n  return function (value) {\n    return new Promise((resolve, reject) => {\n      if (!value || !value.data) {\n        log('cache-miss', req.url)\n        const error = new Error()\n\n        error.reason = 'cache-miss'\n        error.message = 'Value not found from cache'\n        return reject(error)\n      }\n\n      const { expires, data } = value\n\n      if (expires !== 0 && (expires < Date.now())) {\n        log('cache-stale', req.url)\n        const error = new Error()\n\n        error.reason = 'cache-stale'\n        error.message = 'Value is stale'\n        return reject(error)\n      }\n\n      // // hydrate pseudo xhr from cached value\n      // req.xhr = hydrate(data)\n      //\n      // // override request end callback\n      // req.callback = (err, res) => {\n      //   log('cache-hit', req.url)\n      //\n      //   if (err) {\n      //     return reject(err, res)\n      //   }\n      //\n      //   resolve(res)\n      // }\n\n      log('cache-hit', req.url)\n\n      return resolve(data)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/read-cache.js","import omit from 'lodash/omit'\n\nexport default function serialize (req, res, log) {\n  if (res.data) {\n    try {\n      res.data = JSON.parse(res.data)\n    } catch (e) {\n      log('Could not parse data as JSON')\n    }\n  }\n\n  return omit(res, ['request', 'config'])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/serialize.js","import size from 'lodash/size'\nimport map from 'lodash/map'\n\nclass MemoryStore {\n  constructor () {\n    this.store = {}\n  }\n\n  getItem (key) {\n    return Promise.resolve(this.store[key] || null)\n  }\n\n  setItem (key, value) {\n    this.store[key] = value\n    return Promise.resolve(value)\n  }\n\n  removeItem (key) {\n    delete this.store[key]\n    return Promise.resolve()\n  }\n\n  clear () {\n    this.store = {}\n    return Promise.resolve()\n  }\n\n  length () {\n    return Promise.resolve(size(this.store))\n  }\n\n  iterate (fn) {\n    return Promise.all(\n      map(this.store, (value, key) => fn(value, key))\n    )\n  }\n}\n\nexport default MemoryStore\n\n\n\n// WEBPACK FOOTER //\n// ./src/memory.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/size\",\"amd\":\"lodash/size\",\"commonjs\":\"lodash/size\",\"commonjs2\":\"lodash/size\"}\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/map\",\"amd\":\"lodash/map\",\"commonjs\":\"lodash/map\",\"commonjs2\":\"lodash/map\"}\n// module id = 9\n// module chunks = 0","export default function exclude (req, exclusions = {}) {\n  if ((typeof exclusions.filter === 'function') && !exclusions.filter(req)) {\n    return true\n  }\n\n  // do not cache request with query\n  if (exclusions.query && req.url.match(/\\?.*$/)) {\n    return true\n  }\n\n  let found = false\n  const paths = exclusions.paths || []\n\n  paths.forEach(regexp => {\n    if (req.url.match(regexp)) {\n      found = true\n      return found\n    }\n  })\n\n  if (found) {\n    return true\n  }\n\n  // All rules explained. fo not rewrite regexp.\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/exclude.js","import isString from 'lodash/isString'\nimport isFunction from 'lodash/isFunction'\n\nfunction createKey (config) {\n  if (isFunction(config.key)) return config.key\n\n  let cacheKey\n\n  if (isString(config.key)) cacheKey = req => `${config.key}/${req.url}`\n  else cacheKey = req => req.url\n\n  return cacheKey\n}\n\nexport default createKey\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache-key.js","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/isString\",\"amd\":\"lodash/isString\",\"commonjs\":\"lodash/isString\",\"commonjs2\":\"lodash/isString\"}\n// module id = 12\n// module chunks = 0","function applyLimit (config) {\n  return config.store.length().then(length => {\n    config.debug(`Current store size: ${length}`)\n\n    if (length >= config.limit) {\n      config.debug(`Finding first cached item`)\n\n      let firstItem\n\n      return config.store.iterate((value, key) => {\n        if (!firstItem) firstItem = { value, key }\n        if (value.expires < firstItem.value.expires) firstItem = { value, key }\n      }).then(() => {\n        if (firstItem) {\n          config.debug(`Found item: ${firstItem.key}`)\n\n          return config.store.removeItem(firstItem.key)\n        }\n      })\n    }\n  })\n}\n\nexport default applyLimit\n\n\n\n// WEBPACK FOOTER //\n// ./src/limit.js"],"sourceRoot":""}