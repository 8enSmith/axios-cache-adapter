{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 72c0b28557f0ccf249d1","webpack:///external {\"umd\":\"lodash/isFunction\",\"amd\":\"lodash/isFunction\",\"commonjs\":\"lodash/isFunction\",\"commonjs2\":\"lodash/isFunction\"}","webpack:///external {\"umd\":\"lodash/omit\",\"amd\":\"lodash/omit\",\"commonjs\":\"lodash/omit\",\"commonjs2\":\"lodash/omit\"}","webpack:///./src/index.js","webpack:///external {\"umd\":\"axios\",\"amd\":\"axios\",\"commonjs\":\"axios\",\"commonjs2\":\"axios\"}","webpack:///external {\"umd\":\"lodash/extend\",\"amd\":\"lodash/extend\",\"commonjs\":\"lodash/extend\",\"commonjs2\":\"lodash/extend\"}","webpack:///./src/read-cache.js","webpack:///./src/serialize.js","webpack:///./src/memory.js","webpack:///external {\"umd\":\"lodash/size\",\"amd\":\"lodash/size\",\"commonjs\":\"lodash/size\",\"commonjs2\":\"lodash/size\"}","webpack:///external {\"umd\":\"lodash/map\",\"amd\":\"lodash/map\",\"commonjs\":\"lodash/map\",\"commonjs2\":\"lodash/map\"}","webpack:///./src/exclude.js","webpack:///./src/cache-key.js","webpack:///external {\"umd\":\"lodash/isString\",\"amd\":\"lodash/isString\",\"commonjs\":\"lodash/isString\",\"commonjs2\":\"lodash/isString\"}","webpack:///./src/limit.js"],"names":["setupCache","config","cacheKey","store","maxAge","limit","readCache","serialize","clearOnStale","undefined","debug","exclude","query","paths","filter","args","log","response","req","uuid","res","type","status","indexOf","responseType","expires","Date","now","then","setItem","data","request","next","includedNext","excludedNext","Promise","resolve","method","toLowerCase","removeItem","getItem","value","fromCache","catch","err","reason","adapter","defaults","defaultOptions","cache","setup","options","axiosOptions","create","lib","module","exports","reject","url","error","Error","message","JSON","parse","e","MemoryStore","key","fn","all","exclusions","match","found","forEach","regexp","createKey","applyLimit","length","firstItem","iterate"],"mappings":"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","file":"cache.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash/isFunction\"), require(\"lodash/omit\"), require(\"axios\"), require(\"lodash/extend\"), require(\"lodash/size\"), require(\"lodash/map\"), require(\"lodash/isString\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash/isFunction\", \"lodash/omit\", \"axios\", \"lodash/extend\", \"lodash/size\", \"lodash/map\", \"lodash/isString\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"axiosCacheAdapter\"] = factory(require(\"lodash/isFunction\"), require(\"lodash/omit\"), require(\"axios\"), require(\"lodash/extend\"), require(\"lodash/size\"), require(\"lodash/map\"), require(\"lodash/isString\"));\n\telse\n\t\troot[\"axiosCacheAdapter\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_8__, __WEBPACK_EXTERNAL_MODULE_9__, __WEBPACK_EXTERNAL_MODULE_12__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 72c0b28557f0ccf249d1","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/isFunction\",\"amd\":\"lodash/isFunction\",\"commonjs\":\"lodash/isFunction\",\"commonjs2\":\"lodash/isFunction\"}\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/omit\",\"amd\":\"lodash/omit\",\"commonjs\":\"lodash/omit\",\"commonjs2\":\"lodash/omit\"}\n// module id = 1\n// module chunks = 0","import axios from 'axios'\n\nimport isFunction from 'lodash/isFunction'\nimport extend from 'lodash/extend'\nimport omit from 'lodash/omit'\n\nimport readCache from './read-cache'\nimport serialize from './serialize'\nimport MemoryStore from './memory'\nimport exclude from './exclude'\nimport createKey from './cache-key'\nimport applyLimit from './limit'\n\nfunction setupCache (config = {}) {\n  const cacheKey = createKey(config)\n\n  config.store = config.store || new MemoryStore()\n  config.maxAge = config.maxAge || 0\n  config.limit = config.limit || false\n  config.readCache = config.readCache || readCache\n  config.serialize = config.serialize || serialize\n  config.clearOnStale = config.clearOnStale !== undefined ? config.clearOnStale : true\n  config.debug = config.debug || false\n\n  config.exclude = config.exclude || {}\n  config.exclude.query = config.exclude.query !== undefined ? config.exclude.query : true\n  config.exclude.paths = config.exclude.paths || []\n  config.exclude.filter = config.exclude.filter || null\n\n  if (config.debug !== false) {\n    config.debug = (typeof config.debug === 'function')\n      ? config.debug\n      : (...args) => console.log('[axios-cache-adapter]', ...args)\n  } else {\n    config.debug = () => {}\n  }\n\n  function response (exclude, req, uuid, res) {\n    const type = res.status / 100 | 0\n\n    // only cache 2xx response\n    if (type !== 2) {\n      return res\n    }\n\n    // exclude binary response from cache\n    if (['arraybuffer', 'blob'].indexOf(res.responseType) > -1) {\n      return res\n    }\n\n    let expires = config.maxAge === 0 ? 0 : Date.now() + config.maxAge\n\n    if (!exclude) {\n      if (config.limit) {\n        config.debug(`Detected limit: ${config.limit}`)\n\n        return applyLimit(config).then(\n          () => store(uuid, expires, req, res)\n        )\n      }\n\n      return store(uuid, expires, req, res)\n    }\n\n    return res\n  }\n\n  function store (uuid, expires, req, res) {\n    return config.store\n      .setItem(uuid, { expires, data: config.serialize(req, res, config.debug) })\n      .then(() => res)\n  }\n\n  function request (req) {\n    const uuid = cacheKey(req)\n    const next = (exclude, ...args) => response(exclude, req, uuid, ...args)\n    const includedNext = (...args) => next(false, ...args)\n    const excludedNext = (...args) => next(true, ...args)\n\n    if (exclude(req, config.exclude)) {\n      return Promise.resolve(excludedNext)\n    }\n\n    // clear cache if method different from GET.\n    // We should exclude HEAD\n    const method = req.method.toLowerCase()\n\n    if (method === 'head') {\n      return Promise.resolve(excludedNext)\n    }\n\n    if (method !== 'get') {\n      return config.store.removeItem(uuid).then(() => excludedNext)\n    }\n\n    return config.store.getItem(uuid).then(value => {\n      return config.readCache(req, config.debug)(value)\n        .then(data => {\n          data.config = req\n          data.request = { fromCache: true }\n\n          return data\n        })\n        .catch(err => {\n          // clean up cache if stale\n          if (config.clearOnStale && err.reason === 'cache-stale') {\n            return config.store.removeItem(uuid).then(() => includedNext)\n          }\n\n          return includedNext\n        })\n    })\n  }\n\n  function adapter (config) {\n    return request(config)\n      .then(response => {\n        if (!isFunction(response)) return response\n\n        return axios.defaults.adapter(config).then(response)\n      })\n  }\n\n  return {\n    adapter,\n    store: config.store\n  }\n}\n\nconst defaultOptions = {\n  cache: {\n    maxAge: 15 * 60 * 1000\n  }\n}\n\nfunction setup (options) {\n  options = extend({}, defaultOptions, options)\n\n  const cache = setupCache(options.cache)\n  const axiosOptions = omit(options, ['cache'])\n\n  const request = axios.create(extend({}, axiosOptions, { adapter: cache.adapter }))\n\n  request.cache = cache.store\n\n  return request\n}\n\nconst lib = {\n  setupCache,\n  setup\n}\n\nexport default lib\nmodule.exports = lib\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"axios\",\"amd\":\"axios\",\"commonjs\":\"axios\",\"commonjs2\":\"axios\"}\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/extend\",\"amd\":\"lodash/extend\",\"commonjs\":\"lodash/extend\",\"commonjs2\":\"lodash/extend\"}\n// module id = 4\n// module chunks = 0","// import hydrate from './hydrate'\n\nexport default function (req, log) {\n  return function (value) {\n    return new Promise((resolve, reject) => {\n      if (!value || !value.data) {\n        log('cache-miss', req.url)\n        const error = new Error()\n\n        error.reason = 'cache-miss'\n        error.message = 'Value not found from cache'\n        return reject(error)\n      }\n\n      const { expires, data } = value\n\n      if (expires !== 0 && (expires < Date.now())) {\n        log('cache-stale', req.url)\n        const error = new Error()\n\n        error.reason = 'cache-stale'\n        error.message = 'Value is stale'\n        return reject(error)\n      }\n\n      // // hydrate pseudo xhr from cached value\n      // req.xhr = hydrate(data)\n      //\n      // // override request end callback\n      // req.callback = (err, res) => {\n      //   log('cache-hit', req.url)\n      //\n      //   if (err) {\n      //     return reject(err, res)\n      //   }\n      //\n      //   resolve(res)\n      // }\n\n      log('cache-hit', req.url)\n\n      return resolve(data)\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/read-cache.js","import omit from 'lodash/omit'\n\nexport default function serialize (req, res, log) {\n  if (res.data) {\n    try {\n      res.data = JSON.parse(res.data)\n    } catch (e) {\n      log('Could not parse data as JSON')\n    }\n  }\n\n  return omit(res, ['request', 'config'])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/serialize.js","import size from 'lodash/size'\nimport map from 'lodash/map'\n\nclass MemoryStore {\n  constructor () {\n    this.store = {}\n  }\n\n  getItem (key) {\n    return Promise.resolve(this.store[key] || null)\n  }\n\n  setItem (key, value) {\n    this.store[key] = value\n    return Promise.resolve(value)\n  }\n\n  removeItem (key) {\n    delete this.store[key]\n    return Promise.resolve()\n  }\n\n  clear () {\n    this.store = {}\n    return Promise.resolve()\n  }\n\n  length () {\n    return Promise.resolve(size(this.store))\n  }\n\n  iterate (fn) {\n    return Promise.all(\n      map(this.store, (value, key) => fn(value, key))\n    )\n  }\n}\n\nexport default MemoryStore\n\n\n\n// WEBPACK FOOTER //\n// ./src/memory.js","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/size\",\"amd\":\"lodash/size\",\"commonjs\":\"lodash/size\",\"commonjs2\":\"lodash/size\"}\n// module id = 8\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_9__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/map\",\"amd\":\"lodash/map\",\"commonjs\":\"lodash/map\",\"commonjs2\":\"lodash/map\"}\n// module id = 9\n// module chunks = 0","export default function exclude (req, exclusions = {}) {\n  if ((typeof exclusions.filter === 'function') && !exclusions.filter(req)) {\n    return true\n  }\n\n  // do not cache request with query\n  if (exclusions.query && req.url.match(/\\?.*$/)) {\n    return true\n  }\n\n  let found = false\n  const paths = exclusions.paths || []\n\n  paths.forEach(regexp => {\n    if (req.url.match(regexp)) {\n      found = true\n      return found\n    }\n  })\n\n  if (found) {\n    return true\n  }\n\n  // All rules explained. fo not rewrite regexp.\n  return false\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/exclude.js","import isString from 'lodash/isString'\nimport isFunction from 'lodash/isFunction'\n\nfunction createKey (config) {\n  if (isFunction(config.key)) return config.key\n\n  let cacheKey\n\n  if (isString(config.key)) cacheKey = req => `${config.key}/${req.url}`\n  else cacheKey = req => req.url\n\n  return cacheKey\n}\n\nexport default createKey\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache-key.js","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"umd\":\"lodash/isString\",\"amd\":\"lodash/isString\",\"commonjs\":\"lodash/isString\",\"commonjs2\":\"lodash/isString\"}\n// module id = 12\n// module chunks = 0","function applyLimit (config) {\n  return config.store.length().then(length => {\n    config.debug(`Current store size: ${length}`)\n\n    if (length >= config.limit) {\n      config.debug(`Finding first cached item`)\n\n      let firstItem\n\n      return config.store.iterate((value, key) => {\n        if (!firstItem) firstItem = { value, key }\n        if (value.expires < firstItem.value.expires) firstItem = { value, key }\n      }).then(() => {\n        if (firstItem) {\n          config.debug(`Found item: ${firstItem.key}`)\n\n          return config.store.removeItem(firstItem.key)\n        }\n      })\n    }\n  })\n}\n\nexport default applyLimit\n\n\n\n// WEBPACK FOOTER //\n// ./src/limit.js"],"sourceRoot":""}